<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>IE事件</title>
<style>
div{position:absolute;left:0;top:0;}
</style>
</head>

<body>
<div style="height:30px;width:30px;background:rgb(255,0,0);"></div>
<script>

var oDiv=document.getElementsByTagName("div")[0];

oDiv.onmousedown=function(e){
	var evt=e||event;
	var disX=evt.clientX-oDiv.offsetLeft;
	var disY=evt.clientY-oDiv.offsetTop;
	
		document.onmousemove=function(e){
			
			var evt=e||event;
			if(evt.clientX-disX<=0){
				oDiv.style.left=0;
				console.log("a");
			}else if(evt.clientX-disX>=document.documentElement.clientWidth-oDiv.offsetWidth){
				oDiv.style.left=(document.documentElement.clientWidth-oDiv.offsetWidth)+"px";
				console.log(oDiv.style.left);
			}else{
				oDiv.style.left=(evt.clientX-disX)+"px";
			}
			if(evt.clientY-disY<=0){
				oDiv.style.top=0;
				console.log("b");
			}else if(evt.clientY-disY>=document.documentElement.clientHeight-oDiv.offsetHeight){
				oDiv.style.top=(document.documentElement.clientHeight-oDiv.offsetHeight)+"px";
			}else{
				oDiv.style.top=(evt.clientY-disY)+"px";
			}
	
		};
	
	document.onmouseup=function(){
		document.onmousemove=null;
	};		
}



//var oDiv1=document.getElementsByTagName("div")[1];
/*
function foo(){	

	alert("a");	
		
}
function fooo(){	

	alert("b");	
		
}

//oDiv.addEventListener("click",foo,false);

//oDiv.removeEventListener("click",foo,false);

function addEvent(obj,type,fn){
	
	if(obj["on"+type]){
		var saved=obj["on"+type];
	}
	if(saved){
		saved();	
	}
	console.log(fn);
	console.log(fn);
	fn();
}	
	addEvent(oDiv,"click",foo);
	addEvent(oDiv,"click",fooo);
	
*/


</script>
</body>
</html>
